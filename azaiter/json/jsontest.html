<html>
	<head>
		<script
			src="https://code.jquery.com/jquery-2.2.3.min.js"
			integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="
			crossorigin="anonymous">
		</script>
		<script>
    

      
     
			
			<!-- javascript solution: creates new elements with attributes -->
			var xmlhttp = new XMLHttpRequest();
			var url = "https://api.svsu.edu/courses?prefix=CS";

			xmlhttp.onreadystatechange = function() {
				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
					var myArr = JSON.parse(xmlhttp.responseText);
					myFunction(myArr);
				}
			};
			xmlhttp.open("GET", url, true);
			xmlhttp.send();

			function myFunction(arr) {
				var out = "";
				var i;
				for(i = 0; i < arr.courses.length; i++) {
					var newP = document.createElement("option");
					newP.setAttribute("value", i);
					var newText 
						= document.createTextNode(arr.courses[i].prefix + " " 
						+ arr.courses[i].courseNumber + " " 
						+ arr.courses[i].term + " " 
						+ arr.courses[i].meetingTimes[0].days + " " 
						+ arr.courses[i].meetingTimes[0].startTime + " " 
						+ arr.courses[i].meetingTimes[0].instructor); 
					document.getElementById("id02").appendChild(newP);
					newP.appendChild(newText);
					// out += arr.courses[i].prefix + " " + arr.courses[i].courseNumber + "<br />";
				}
				// document.getElementById("id01").innerHTML = out;
			}
			
		</script>
	</head>
	<body>
    <h1> Program 2 - SVSU API </h2>
    <table border=1>
      <tr>
        <td><h2>Courses Taken</h2>
        <p>Enter Courses seperated by Comma</p>
        <input type = "text" >
        </td>
        <td>
          <h2>Courses for Dgree</h2>
          <p>edit if desired</p>
          <textarea id="allCoursesNeeded" rows="5" col="10"> </textarea>
        </td>
      </tr>
      <tr>
        <td>
          <h2>Courses available for registration</h2>
          <p>Courses Not taken but pre reqs have been taken</p>
        </td>
        <td>
          <h2>Courses Not yet available</h2>
          <p>Courses Not taken but pre reqs have NOT been taken</p>
        </td>
      </tr>
    </table>
		<p id="id01"></p>
		<select id="id02"></select>
    
    <script>
          //Courses for CS
      
      var CS = ["CS 105", "MATH 300" , "CS 116", "CS 216", "CS 245"];
      
      //Courses for CIS
      var CIS = ["CS 105", "MATH 300" , "CS 116", "CS 216", "CS 245"];

      //insert courses into textarea
      var allCourses = document.getElementById("allCoursesNeeded");
      var allCoursesText = "";
      for(var i=0;i<CS.length;i++) 
        allCoursesText += CS[i] + ", ";
      allCourses.value = allCoursesText;
    </script>
	</body>
</html>